[{"C:\\Users\\webra\\onedrive\\desktop\\fsp\\part2\\phonebook\\src\\App.js":"1","C:\\Users\\webra\\onedrive\\desktop\\fsp\\part2\\phonebook\\src\\index.js":"2","C:\\Users\\webra\\OneDrive\\Desktop\\fsp\\part2\\phonebook\\src\\index.js":"3","C:\\Users\\webra\\OneDrive\\Desktop\\fsp\\part2\\phonebook\\src\\PersonList.jsx":"4","C:\\Users\\webra\\OneDrive\\Desktop\\fsp\\part2\\phonebook\\src\\App.js":"5","C:\\Users\\webra\\OneDrive\\Desktop\\fsp\\part2\\phonebook\\src\\phonebookService.js":"6","C:\\Users\\webra\\OneDrive\\Desktop\\fsp\\part2\\phonebook\\src\\PersonForm.jsx":"7","C:\\Users\\webra\\OneDrive\\Desktop\\fsp\\part2\\phonebook\\src\\Notification.jsx":"8"},{"size":2927,"mtime":1607596549943,"results":"9","hashOfConfig":"10"},{"size":154,"mtime":1607595617461,"results":"11","hashOfConfig":"10"},{"size":219,"mtime":1604820995000,"results":"12","hashOfConfig":"13"},{"size":524,"mtime":1607577327000,"results":"14","hashOfConfig":"13"},{"size":3785,"mtime":1607622799147,"results":"15","hashOfConfig":"13"},{"size":409,"mtime":1607598630052,"results":"16","hashOfConfig":"13"},{"size":655,"mtime":1607577327000,"results":"17","hashOfConfig":"13"},{"size":415,"mtime":1607622272192,"results":"18","hashOfConfig":"13"},{"filePath":"19","messages":"20","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"tu43qs",{"filePath":"21","messages":"22","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"23","messages":"24","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1ckvlnh",{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"27","messages":"28","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"29"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\webra\\onedrive\\desktop\\fsp\\part2\\phonebook\\src\\App.js",[],"C:\\Users\\webra\\onedrive\\desktop\\fsp\\part2\\phonebook\\src\\index.js",[],"C:\\Users\\webra\\OneDrive\\Desktop\\fsp\\part2\\phonebook\\src\\index.js",[],"C:\\Users\\webra\\OneDrive\\Desktop\\fsp\\part2\\phonebook\\src\\PersonList.jsx",[],"C:\\Users\\webra\\OneDrive\\Desktop\\fsp\\part2\\phonebook\\src\\App.js",["36"],"import { useEffect, useState } from \"react\";\nimport Notification from \"./Notification\";\nimport PersonForm from \"./PersonForm\";\nimport PersonList from \"./PersonList\";\nimport phonebookServce from \"./phonebookService\";\nimport SearchFilter from \"./SearchFilter\";\n\n\nfunction App() {\n\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState(\"\")\n  const [newNumber, setNewNumber] = useState(\"\")\n  const [searchTerm, setSearchTerm] = useState(\"\")\n  const [errorMessage, setErrorMessage] = useState(\"\")\n\n  useEffect(() => {\n       phonebookServce\n       .getAll()\n      .then((res) => {\n        console.log(res.data);\n        setPersons(res.data)\n      })\n      .catch((err) => console.log(err))\n  }, [])\n  console.log(\"total\",persons.length, \"person\");\n\n  const searchHandle = (e) => {\n    setSearchTerm(e.target.value)\n  }\n\n  const searchResults = !searchTerm \n          ? persons \n          : persons.filter(person => person.name.toLocaleLowerCase().includes(searchTerm.toLocaleLowerCase()));\n  const handleNameChange = (e) => {\n    setNewName(e.target.value)\n  }\n  const handleNumberChange = (e) => {\n    setNewNumber(e.target.value)\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (newName === \"\" && newNumber === \"\") {\n      return alert(\"value is empty\")\n    }\n    persons.forEach((person) => {\n      if (person.name === newName){\n        return alert(`${person.name} is already added to phonebook `)\n      }else{\n        setPersons([...persons, {name: newName, number: newNumber}])\n        setNewName(\"\")\n        setNewNumber(\"\")\n      }\n    })\n    \n    \n  }\n  console.log(\"search result: \", searchResults);\n\n\n  const addPhoneBook = (event) => {\n    event.preventDefault();\n\n    const newObj = {\n      name : newName,\n      number: newNumber,\n      id : persons.length + 1\n    }\n    console.log(newObj.name);\n    phonebookServce\n    .create(newObj)\n    .then((res) => {\n      console.log(\"adding data: \",res.data);\n      setPersons(persons.concat(res.data))\n      setErrorMessage(`Added ${res.data.name}`)\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 5000)\n      setNewName(\"\")\n      setNewNumber(\"\")\n    })\n    .catch((err) => console.log(err))\n  }\n\n  const deleteHandle = (id) => {\n    phonebookServce\n      .deleteItem(id)\n      .then((res)=> {\n        console.log(\"delete item:\", res.data);\n        setPersons(persons.filter((person) => person.id !== id))\n      })\n      .catch((err)=>console.log(err))\n  };\n\n  const updateNumber = () => {\n    const updateName = persons.find(p => p.name === newName)\n    const updateObj = {\n      ...updateName,\n      number: newNumber\n    }\n    phonebookServce\n    .update(updateObj.id, updateObj)\n    .then((res) => {\n      alert(`${res.name} is the already added to phonebook , replace the phone number`)\n      setPersons(persons.map(person => person.id === res.id  ? res : person))\n    })\n    .catch((err) => {\n      setErrorMessage(`the note '${updateName}' was already deleted from server`)\n      setPersons(persons.filter(n => n.id !== updateObj.id))\n    })\n  }\n\n  return (\n    <div className=\"\">\n      <h2>PhoneBook</h2>\n      <SearchFilter searchHandle={searchHandle} searchTerm={searchTerm} />\n      {\n        !errorMessage ? <div></div> : <Notification message = {errorMessage}/>\n      }\n      <h2>Added new phone list</h2>\n      <PersonForm  \n            handleSubmit = {handleSubmit}  \n            newName= {newName} \n            handleNameChange={handleNameChange} \n            newNumber={newNumber} \n            addPhoneBook = {addPhoneBook}\n            handleNumberChange={handleNumberChange}\n      />\n      <h2>Numbers</h2>\n      <PersonList searchResults={searchResults} deleteHandle={ deleteHandle } persons={persons} />\n    </div>\n  );\n}\n\nexport default App;\n","C:\\Users\\webra\\OneDrive\\Desktop\\fsp\\part2\\phonebook\\src\\phonebookService.js",["37"],"C:\\Users\\webra\\OneDrive\\Desktop\\fsp\\part2\\phonebook\\src\\PersonForm.jsx",[],"C:\\Users\\webra\\OneDrive\\Desktop\\fsp\\part2\\phonebook\\src\\Notification.jsx",[],{"ruleId":"38","severity":1,"message":"39","line":96,"column":9,"nodeType":"40","messageId":"41","endLine":96,"endColumn":21},{"ruleId":"42","severity":1,"message":"43","line":19,"column":1,"nodeType":"44","endLine":19,"endColumn":55},"no-unused-vars","'updateNumber' is assigned a value but never used.","Identifier","unusedVar","import/no-anonymous-default-export","Assign object to a variable before exporting as module default","ExportDefaultDeclaration"]